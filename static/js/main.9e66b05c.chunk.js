(this.webpackJsonpaquadom=this.webpackJsonpaquadom||[]).push([[0],{101:function(e,t,n){},186:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),o=n(17),u=n.n(o),i=(n(101),n(102),n(18)),l=n(16),d=n(30),s=n(31),m=n(187),b=n(189),p=n(74),f=n.n(p),g=n(8),v=m.a.Meta,E=function(e){var t=e.item,n=e.addProduct,r=e.deleteProduct,o=e.bag,u=Object(a.useState)(!1),i=Object(l.a)(u,2),d=i[0],s=i[1],p=function(){s(!d)},E=!1;o.bagsItem.map((function(e){console.log(e),E=e.id===t.id}));var h=E?"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b":"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443",O=Object(a.useState)(h),j=Object(l.a)(O,2),P=j[0],y=j[1];return c.a.createElement("div",null,c.a.createElement(f.a,{isFlipped:d,flipDirection:"vertical"},c.a.createElement(m.a,{hoverable:!0,style:{width:240},cover:c.a.createElement("img",{alt:t.name,src:t.image,style:{minHeight:"320px"}}),onClick:p},c.a.createElement(v,{title:t.name})),c.a.createElement(m.a,{hoverable:!0,style:{width:240},cover:c.a.createElement("img",{alt:t.name,src:t.image,style:{minHeight:"320px"}}),onClick:p},c.a.createElement(v,{title:t.price+" \u0433\u0440\u043d"}))),c.a.createElement(g.b,{to:"/details"},c.a.createElement(b.a,{type:"link"},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435")),c.a.createElement(b.a,{onClick:function(){"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"===P?(n(t),y("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b")):E?E&&(y("\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"),r(t)):y("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u043a\u043e\u0440\u0437\u0438\u043d\u044b")},type:"link"},P))},h=function(e){var t=e.bags;return c.a.createElement("div",null,c.a.createElement(g.b,{to:"/"},c.a.createElement("div",null,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433")),c.a.createElement(g.b,{to:{pathname:"/bag",propsSearch:t}},c.a.createElement("div",null,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430")),c.a.createElement(g.b,{to:"/bag"},c.a.createElement("div",null,"\u0420\u044b\u0431\u043a\u0438")),c.a.createElement(g.b,{to:"/bag"},c.a.createElement("div",null,"\u041a\u0440\u0435\u0432\u0435\u0442\u043a\u0438")))},O=n(28),j=n.n(O),P=n(39),y=n(85),S=function(){return window.history.replaceState({},document.title,window.location.pathname)},w=c.a.createContext(),C=function(){return Object(a.useContext)(w)},k={logIn:function(e){return{type:"LOG_IN",user:e}},logOut:function(e){return{type:"LOG_OUT",user:e}}},x=Object(i.b)(null,k)((function(e){var t=e.children,n=e.onRedirectCallback,r=void 0===n?S:n,o=e.logIn,u=e.logOut,i=Object(d.a)(e,["children","onRedirectCallback","logIn","logOut"]),s=Object(a.useState)(),m=Object(l.a)(s,2),b=m[0],p=m[1],f=Object(a.useState)(),g=Object(l.a)(f,2),v=g[0],E=g[1],h=Object(a.useState)(),O=Object(l.a)(h,2),C=O[0],k=O[1],x=Object(a.useState)(!0),A=Object(l.a)(x,2),R=A[0],T=A[1],U=Object(a.useState)(!1),I=Object(l.a)(U,2),D=I[0],L=I[1];Object(a.useEffect)((function(){(function(){var e=Object(P.a)(j.a.mark((function e(){var t,n,a,c,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)(i);case 2:if(t=e.sent,k(t),!window.location.search.includes("code=")||!window.location.search.includes("state=")){e.next=10;break}return e.next=7,t.handleRedirectCallback();case 7:n=e.sent,a=n.appState,r(a);case 10:return e.next=12,t.isAuthenticated();case 12:if(c=e.sent,p(c),!c){e.next=22;break}return e.next=17,t.getUser();case 17:l=e.sent,E(l),o(l),e.next=23;break;case 22:u(v);case 23:T(!1);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var _=function(){var e=Object(P.a)(j.a.mark((function e(){var t,n,r=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},L(!0),e.prev=2,e.next=5,C.loginWithPopup(t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:return e.prev=10,L(!1),e.finish(10);case 13:return e.next=15,C.getUser();case 15:n=e.sent,E(n),p(!0);case 18:case"end":return e.stop()}}),e,null,[[2,7,10,13]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(P.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,C.handleRedirectCallback();case 3:return e.next=5,C.getUser();case 5:t=e.sent,T(!1),p(!0),E(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(w.Provider,{value:{isAuthenticated:b,user:v,loading:R,popupOpen:D,loginWithPopup:_,handleRedirectCallback:F,getIdTokenClaims:function(){return C.getIdTokenClaims.apply(C,arguments)},loginWithRedirect:function(){return C.loginWithRedirect.apply(C,arguments)},getTokenSilently:function(){return C.getTokenSilently.apply(C,arguments)},getTokenWithPopup:function(){return C.getTokenWithPopup.apply(C,arguments)},logout:function(){return C.logout.apply(C,arguments)}}},t)})),A=function(e){return{type:"DELETE_PRODUCT",product:e}},R={SUCCESS:"".concat(r="GET_PRODUCT",".SUCCESS"),FAILURE:"".concat(r,".FAILURE"),REQUEST:"".concat(r,".REQUEST")},T=function(){return{type:"API_REQUEST",apiData:{types:R,endpoint:"/get-products"}}},U={addProductAction:function(e){return{type:"ADD_PRODUCT",product:e}},deleteProductAction:A,getProduct:T},I=Object(i.b)((function(e){return{bag:e.bag,catalog:e.products.catalog,isLoader:e.products.isLoader,isAuth:e.auth.isAuth}}),U)((function(e){e.isAuth;var t=e.catalog,n=e.bag,r=(e.addProduct,e.deleteProduct,Object(d.a)(e,["isAuth","catalog","bag","addProduct","deleteProduct"])),a=C();a.loginWithRedirect,a.logout;return c.a.createElement(s.a,{justify:"space-around"},t.map((function(e){return t=e,c.a.createElement(E,{item:t,addProduct:r.addProductAction,deleteProduct:r.deleteProductAction,bag:n,key:t.id.toString()});var t})))})),D=function(){return c.a.createElement("div",null,"About Product")},L=n(5),_=n(6);function F(){var e=Object(L.a)(["\ncolor:#01142F; \ntext-align:center;\nfont-size: 2vw;\nfont-weight:bold;\n"]);return F=function(){return e},e}function W(){var e=Object(L.a)(["\nfont-size: 2vw;\ncursor:pointer;\n\n"]);return W=function(){return e},e}function N(){var e=Object(L.a)(["\nborder: 1px solid #01142F;\nborder-radius: 5%;\nwidth: 5vw;\nheight: 2.5vw;\ntext-align: center;\ncursor:pointer;\n\n:hover {\n    color: #01142F;\n  }\n"]);return N=function(){return e},e}function M(){var e=Object(L.a)(["\nwidth:20%;\n\n"]);return M=function(){return e},e}function G(){var e=Object(L.a)(["\ndisplay: flex;\njustify-content: space-around;\nwidth:23vw;\n"]);return G=function(){return e},e}function Q(){var e=Object(L.a)(["\nmargin-right: 10%;\n\n"]);return Q=function(){return e},e}function q(){var e=Object(L.a)(["\ncolor:#01142F; \ntext-transform: uppercase;\ntext-align:center;\n"]);return q=function(){return e},e}function z(){var e=Object(L.a)(["\n display: flex;\n margin: 10%;\n align-items: center;\n  justify-content: center;\n font-family: Arial;\n font-size: 1.5vw;\n"]);return z=function(){return e},e}var H=_.a.div(z()),X=_.a.h2(q()),J=_.a.div(Q()),B=_.a.div(G()),K=_.a.div(M()),V=_.a.div(N()),Y=_.a.div(W()),Z=_.a.div(F()),$=function(e){var t=e.item,n=e.incrementProduct,r=e.decrementProduct,a=e.deleteProduct;return c.a.createElement(H,null,c.a.createElement(K,null,c.a.createElement("img",{alt:t.name,src:t.image,width:"50%"})),c.a.createElement(J,null,c.a.createElement(X,null,t.name),c.a.createElement("div",null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",c.a.createElement("span",null," ",t.count))),c.a.createElement(B,null,c.a.createElement("div",null,"\u0421\u0443\u043c\u043c\u0430",c.a.createElement("span",null," ",t.count*t.price," \u0433\u0440\u043d")),c.a.createElement(V,{onClick:function(){n(t)}},"+1 \u0448\u0442"),c.a.createElement(V,{onClick:function(){r(t)}},"-1 \u0448\u0442")),c.a.createElement(Y,{onClick:function(){a(t)}},"\u274c"))},ee={incrementProductAction:function(e){return{type:"INCREMENT_PRODUCT",product:e}},decrementProductAction:function(e){return{type:"DECREMENT_PRODUCT",product:e}},deleteProductAction:A},te=Object(i.b)((function(e){return{item:e.bag.bagsItem,totalSum:e.bag.totalSum}}),ee)((function(e){var t=e.item,n=e.totalSum,r=(e.incrementProduct,e.decrementProduct,e.deleteProduct,Object(d.a)(e,["item","totalSum","incrementProduct","decrementProduct","deleteProduct"]));return c.a.createElement("div",null,c.a.createElement("h1",{style:{textAlign:"center"}},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"),t.length?t.map((function(e){return t=e,c.a.createElement($,{item:t,incrementProduct:r.incrementProductAction,decrementProduct:r.decrementProductAction,deleteProduct:r.deleteProductAction,key:t.id});var t})):c.a.createElement("h2",null,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u043f\u0443\u0441\u0442\u0430"),c.a.createElement(Z,null,"\u0421\u0443\u043c\u043c\u0430:",c.a.createElement("span",null," ",n," \u0433\u0440\u043d")))})),ne=n(4);function re(){var e=Object(L.a)(["\n\n"]);return re=function(){return e},e}function ae(){var e=Object(L.a)(["\n\n"]);return ae=function(){return e},e}function ce(){var e=Object(L.a)(["\n\n"]);return ce=function(){return e},e}function oe(){var e=Object(L.a)(["\n\n"]);return oe=function(){return e},e}function ue(){var e=Object(L.a)(["\n display: flex;\n justify-content: space-around;\n font-family: Arial;\n font-size: 1.5vw;\n padding:5%;\n background-color: #01142F;\n"]);return ue=function(){return e},e}var ie=_.a.div(ue()),le=_.a.nav(oe()),de=_.a.div(ce()),se=_.a.div(ae()),me=_.a.div(re());function be(){var e=Object(L.a)(["\ntext-align: right;\nbackground-color: #01142F;\ncolor:#1890ff;\npadding: 0 10vw\n"]);return be=function(){return e},e}function pe(){var e=Object(L.a)(["\nbackgroung-color: transparent;\n"]);return pe=function(){return e},e}function fe(){var e=Object(L.a)(["\nmargin:0 2vw;\nwidth: 10vw;\nheight: 10vw;\nborder-radius:10%;\n"]);return fe=function(){return e},e}function ge(){var e=Object(L.a)(["\nheight: 100px;\nbackground-color: #01142F;\ndisplay:flex;\npadding: 2vw;\njustify-content: space-around;\nalign-items:center;\ncolor:#1890ff;\npadding: 6vw;\n"]);return ge=function(){return e},e}var ve=_.a.header(ge()),Ee=_.a.img(fe()),he=_.a.div(pe()),Oe=_.a.div(be()),je=function(e){var t=e.bags,n=e.isAuth,r=C(),a=r.loginWithRedirect,o=r.logout;return c.a.createElement("div",null,c.a.createElement(ve,null,c.a.createElement(Ee,{src:"images/logo.jpg"}),c.a.createElement(g.b,{to:"/"},c.a.createElement("div",null,"\u041a\u0430\u0442\u0430\u043b\u043e\u0433")),c.a.createElement(g.b,{to:{pathname:"/bag",propsSearch:t}},c.a.createElement("div",null,"\u041a\u043e\u0440\u0437\u0438\u043d\u0430")),c.a.createElement(g.b,{to:"/bag"},c.a.createElement("div",null,"\u041e\u043f\u043b\u0430\u0442\u0430 \u0438 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430")),c.a.createElement(g.b,{to:"/bag"},c.a.createElement("div",null,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b")),c.a.createElement("div",null,!n&&c.a.createElement(he,{onClick:function(){return a({})}},"\u0412\u043e\u0439\u0442\u0438"),n&&c.a.createElement(he,{onClick:function(){return o()}},"\u0412\u044b\u0439\u0442\u0438"))),c.a.createElement(Oe,null,"Contact"))};var Pe,ye,Se,we=function(e){e.isAuth;var t=e.catalog,n=e.getProduct,r=Object(a.useState)(null),o=Object(l.a)(r,2),u=o[0],i=o[1],d=Object(a.useState)(null),s=Object(l.a)(d,2),m=s[0],b=s[1];return Object(a.useEffect)((function(){!t.length&&n()}),[]),c.a.createElement(g.a,null,c.a.createElement(je,null),c.a.createElement(ie,null,c.a.createElement(le,null,c.a.createElement(h,null)),c.a.createElement(de,null,c.a.createElement(ne.c,null,c.a.createElement(ne.a,{path:"/",exact:!0},c.a.createElement(I,{addProduct:i,deleteProduct:b})),c.a.createElement(ne.a,{path:"/details"},c.a.createElement(D,null)),c.a.createElement(ne.a,{path:"/bag"},c.a.createElement(te,{addedProduct:u,deletedProduct:m})))),c.a.createElement(se,null,"right sidebar")),c.a.createElement(me,null,"footer"))},Ce={getProduct:T},ke=Object(i.b)((function(e){return{catalog:e.products.catalog,isLoader:e.products.isLoader}}),Ce)(we),xe=n(15),Ae=n(3),Re=n(89),Te=n.n(Re),Ue=function(e){return function(e){return function(t){if("API_REQUEST"!==t.type||!t.apiData)return e(t);var n=t.apiData,r=n.url,a=n.endpoint,c=n.method,o=n.body,u=n.headers,i=n.types;e({type:i.REQUEST});(function(e){var t=e.url,n=void 0===t?"https://shopserver.firebaseapp.com":t,r=e.endpoint,a=void 0===r?"":r,c=e.method,o=void 0===c?"GET":c,u=e.body,i=void 0===u?{}:u,l=(e.headers,o.toLowerCase());return new Promise((function(e,t){Te()({baseURL:"".concat(n).concat(a),method:l,catalog:i}).then((function(t){return e(t)}))}))})({url:r,endpoint:a,method:c,body:o,headers:u}).then((function(t){console.log("Api success"),console.log("responce",t.data);var n=t.data;e(Object(Ae.a)({type:i.SUCCESS},n))}),(function(t){console.log("Api error");var n="";t.data&&404===t.staus&&(n="Unauthorised"),e({type:i.FAILURE,errorType:n})})).catch((function(e){return console.log("err>>>>",e)}))}}},Ie=n(90),De=n(9),Le=function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return t[r.type]?t[r.type](n,r):n}},_e={catalog:[],addedProduct:null,error:null,isLoader:!1},Fe=(Pe={},Object(De.a)(Pe,R.SUCCESS,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;return console.log(t),Object(Ae.a)(Object(Ae.a)({},e),{},{catalog:t.products,error:null})})),Object(De.a)(Pe,R.FAILURE,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0,n=t.error;return console.log("error>>>>>"),Object(Ae.a)(Object(Ae.a)({},e),{},{error:n})})),Object(De.a)(Pe,R.REQUEST,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e;return console.log("request"),Object(Ae.a)(Object(Ae.a)({},e),{},{isLoader:!0})})),Pe),We=Le(_e,Fe),Ne=n(93),Me={bagsItem:[],totalSum:0},Ge=(ye={},Object(De.a)(ye,"ADD_PRODUCT",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;return console.log("st>>>>>",e.bagsItem),Object(Ae.a)(Object(Ae.a)({},e),{},{bagsItem:[].concat(Object(Ne.a)(e.bagsItem),[t.product]),totalSum:e.totalSum+t.product.count*t.product.price})})),Object(De.a)(ye,"DELETE_PRODUCT",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;return Object(Ae.a)(Object(Ae.a)({},e),{},{totalSum:e.totalSum-t.product.count*t.product.price,bagsItem:e.bagsItem.filter((function(e){return e.id!==t.product.id}))})})),Object(De.a)(ye,"INCREMENT_PRODUCT",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;return Object(Ae.a)(Object(Ae.a)({},e),{},{bagsItem:e.bagsItem.map((function(e){return e.id===t.product.id&&(e.count+=1),e})),totalSum:e.bagsItem.reduce((function(e,t){return e+t.count*t.price}),0)})})),Object(De.a)(ye,"DECREMENT_PRODUCT",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;return Object(Ae.a)(Object(Ae.a)({},e),{},{bagsItem:e.bagsItem.map((function(e){return e.id===t.product.id&&e.count&&(e.count-=1),e})),totalSum:e.bagsItem.reduce((function(e,t){return e+t.count*t.price}),0)})})),ye),Qe=Le(Me,Ge),qe={user:{},isAuth:!1},ze=(Se={},Object(De.a)(Se,"LOG_IN",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;return Object(Ae.a)(Object(Ae.a)({},e),{},{isAuth:!0,user:t.user})})),Object(De.a)(Se,"LOG_OUT",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;arguments.length>1&&arguments[1];return console.log("state.user>>>>>",e.user),Object(Ae.a)(Object(Ae.a)({},e),{},{isAuth:!1,user:{}})})),Se),He=Le(qe,ze),Xe=Object(xe.combineReducers)({products:We,bag:Qe,auth:He}),Je=function(e,t){return Xe(e,t)},Be=n(53),Ke=n(91),Ve={key:"root",storage:n.n(Ke).a,whitelist:["auth"]},Ye=Object(Be.a)(Ve,Je),Ze="dev-aqpxprlk.auth0.com",$e="O8XuOueDVIK9pxXXskdcyE84PjH2Hv4r",et=n(92),tt=n(10),nt=Object(tt.a)(),rt=function(){var e=Object(Ie.composeWithDevTools)(Object(xe.applyMiddleware)(Ue)),t=Object(xe.createStore)(Ye,e);return{store:t,persistor:Object(Be.b)(t)}}();u.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(i.a,{store:rt.store},c.a.createElement(et.a,{persistor:rt.persistor},c.a.createElement(x,{domain:Ze,client_id:$e,redirect_uri:window.location.origin,onRedirectCallback:function(e){nt.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},c.a.createElement(ke,null))))),document.getElementById("root"))},96:function(e,t,n){e.exports=n(186)}},[[96,1,2]]]);
//# sourceMappingURL=main.9e66b05c.chunk.js.map